{
  "version": 4,
  "terraform_version": "1.14.3",
  "serial": 19,
  "lineage": "eadbcab4-e6bd-d259-dcb1-45fe3cc7834a",
  "outputs": {
    "access_instructions": {
      "value": "  \nâœ… Deployment complete!\n  \nCheck status:\n  kubectl get pods -n usualstore\n  kubectl get services -n usualstore\n  \nAccess frontend:\n  kubectl port-forward svc/frontend 3000:80 -n usualstore\n  Then visit: http://localhost:3000\n  \nAccess backend API:\n  kubectl port-forward svc/backend 4001:4001 -n usualstore\n  Then visit: http://localhost:4001\n  \nView logs:\n  kubectl logs -f deployment/backend -n usualstore\n  kubectl logs -f deployment/frontend -n usualstore\n  \n",
      "type": "string"
    },
    "cluster_context": {
      "value": "minikube",
      "type": "string"
    },
    "namespace": {
      "value": "usualstore",
      "type": "string"
    }
  },
  "resources": [
    {
      "module": "module.usualstore_app",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "usualstore",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "index_key": "01-namespace.yaml",
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": true,
            "force_new": false,
            "id": "/api/v1/namespaces/usualstore",
            "ignore_fields": null,
            "kind": "Namespace",
            "live_manifest_incluster": "3295e6ed2286450cf832e580316dbd5c85d959e6d0dd3c76b178af33d26d396f",
            "live_uid": "d62bf446-518b-4cfb-afd6-053d12635bd1",
            "name": "usualstore",
            "namespace": "usualstore",
            "override_namespace": "usualstore",
            "sensitive_fields": null,
            "server_side_apply": true,
            "timeouts": null,
            "uid": "d62bf446-518b-4cfb-afd6-053d12635bd1",
            "validate_schema": true,
            "wait": true,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\nkind: Namespace\nmetadata:\n  name: usualstore\n  labels:\n    name: usualstore\n    environment: production\n\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: Namespace\nmetadata:\n  labels:\n    environment: production\n    name: usualstore\n  name: usualstore\n  namespace: usualstore\n",
            "yaml_incluster": "3295e6ed2286450cf832e580316dbd5c85d959e6d0dd3c76b178af33d26d396f"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        },
        {
          "index_key": "02-configmap.yaml",
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": true,
            "force_new": false,
            "id": "/api/v1/namespaces/usualstore/configmaps/usualstore-config",
            "ignore_fields": null,
            "kind": "ConfigMap",
            "live_manifest_incluster": "dd81a7738073e3eb1ee071161d44a87556be722549c948b265e86080302868f3",
            "live_uid": "f037c4fa-48e9-446c-a683-bd8d03709945",
            "name": "usualstore-config",
            "namespace": "usualstore",
            "override_namespace": "usualstore",
            "sensitive_fields": null,
            "server_side_apply": true,
            "timeouts": null,
            "uid": "f037c4fa-48e9-446c-a683-bd8d03709945",
            "validate_schema": true,
            "wait": true,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: usualstore-config\n  namespace: usualstore\ndata:\n  # Database configuration\n  DB_HOST: \"database\"\n  DB_PORT: \"5432\"\n  DB_NAME: \"usualstore\"\n  DB_SSLMODE: \"disable\"\n  \n  # Application ports\n  FRONTEND_PORT: \"4000\"\n  BACKEND_PORT: \"4001\"\n  INVOICE_PORT: \"5000\"\n  \n  # Environment\n  ENVIRONMENT: \"production\"\n  LOG_LEVEL: \"info\"\n\n",
            "yaml_body_parsed": "apiVersion: v1\ndata:\n  BACKEND_PORT: \"4001\"\n  DB_HOST: database\n  DB_NAME: usualstore\n  DB_PORT: \"5432\"\n  DB_SSLMODE: disable\n  ENVIRONMENT: production\n  FRONTEND_PORT: \"4000\"\n  INVOICE_PORT: \"5000\"\n  LOG_LEVEL: info\nkind: ConfigMap\nmetadata:\n  name: usualstore-config\n  namespace: usualstore\n",
            "yaml_incluster": "dd81a7738073e3eb1ee071161d44a87556be722549c948b265e86080302868f3"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        },
        {
          "index_key": "03-secrets.yaml",
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": true,
            "force_new": false,
            "id": "/api/v1/namespaces/usualstore/secrets/usualstore-secrets",
            "ignore_fields": null,
            "kind": "Secret",
            "live_manifest_incluster": "f14f317c531e171a08c39533f3614f451b6320fc4d9da4a6527bc78473c4f4bd",
            "live_uid": "fd50f633-a32c-4e51-a94b-84d08473c8cd",
            "name": "usualstore-secrets",
            "namespace": "usualstore",
            "override_namespace": "usualstore",
            "sensitive_fields": null,
            "server_side_apply": true,
            "timeouts": null,
            "uid": "fd50f633-a32c-4e51-a94b-84d08473c8cd",
            "validate_schema": true,
            "wait": true,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\nkind: Secret\nmetadata:\n  name: usualstore-secrets\n  namespace: usualstore\ntype: Opaque\nstringData:\n  # Database credentials\n  DB_USER: \"postgres\"\n  DB_PASSWORD: \"password\"\n  \n  # Note: In production, use real secure passwords and manage with:\n  # - kubectl create secret generic usualstore-secrets --from-literal=DB_PASSWORD=SECURE_PASSWORD\n  # - Or use sealed-secrets, external-secrets, or cloud secret managers\n  \n  # Full connection string\n  DATABASE_DSN: \"postgres://postgres:password@database:5432/usualstore?sslmode=disable\"\n\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: Secret\nmetadata:\n  name: usualstore-secrets\n  namespace: usualstore\nstringData:\n  DATABASE_DSN: postgres://postgres:password@database:5432/usualstore?sslmode=disable\n  DB_PASSWORD: password\n  DB_USER: postgres\ntype: Opaque\n",
            "yaml_incluster": "f14f317c531e171a08c39533f3614f451b6320fc4d9da4a6527bc78473c4f4bd"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        },
        {
          "index_key": "04-database-pvc.yaml",
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": true,
            "force_new": false,
            "id": "/api/v1/namespaces/usualstore/persistentvolumeclaims/database-pvc",
            "ignore_fields": null,
            "kind": "PersistentVolumeClaim",
            "live_manifest_incluster": "6d7ff9d4b3797228830fc4d688734e07bcf0405f2ee85df1ec58515b3ce830e4",
            "live_uid": "8cef1435-af9f-4826-8ca9-99ca872728a1",
            "name": "database-pvc",
            "namespace": "usualstore",
            "override_namespace": "usualstore",
            "sensitive_fields": null,
            "server_side_apply": true,
            "timeouts": null,
            "uid": "8cef1435-af9f-4826-8ca9-99ca872728a1",
            "validate_schema": true,
            "wait": true,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: database-pvc\n  namespace: usualstore\nspec:\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 10Gi\n  # StorageClass depends on your cluster:\n  # - Minikube: standard\n  # - GKE: standard, standard-rwo\n  # - EKS: gp2, gp3\n  # - AKS: default, managed-premium\n  # - DigitalOcean: do-block-storage\n  # storageClassName: standard\n\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: database-pvc\n  namespace: usualstore\nspec:\n  accessModes:\n  - ReadWriteOnce\n  resources:\n    requests:\n      storage: 10Gi\n",
            "yaml_incluster": "6d7ff9d4b3797228830fc4d688734e07bcf0405f2ee85df1ec58515b3ce830e4"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        },
        {
          "index_key": "05-database-deployment.yaml",
          "schema_version": 1,
          "attributes": {
            "api_version": "apps/v1",
            "apply_only": false,
            "force_conflicts": true,
            "force_new": false,
            "id": "/apis/apps/v1/namespaces/usualstore/statefulsets/database",
            "ignore_fields": null,
            "kind": "StatefulSet",
            "live_manifest_incluster": "a7df8ec7292740aad53f00b44ceb90c180ffe658aeb85c61ddae595a9de75567",
            "live_uid": "854f966e-2c62-42fd-8bc9-e7e9226e5709",
            "name": "database",
            "namespace": "usualstore",
            "override_namespace": "usualstore",
            "sensitive_fields": null,
            "server_side_apply": true,
            "timeouts": null,
            "uid": "854f966e-2c62-42fd-8bc9-e7e9226e5709",
            "validate_schema": true,
            "wait": true,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: database\n  namespace: usualstore\nspec:\n  serviceName: database\n  replicas: 1\n  selector:\n    matchLabels:\n      app: database\n  template:\n    metadata:\n      labels:\n        app: database\n    spec:\n      containers:\n      - name: postgres\n        image: postgres:15\n        ports:\n        - containerPort: 5432\n          name: postgres\n        env:\n        - name: POSTGRES_USER\n          valueFrom:\n            secretKeyRef:\n              name: usualstore-secrets\n              key: DB_USER\n        - name: POSTGRES_PASSWORD\n          valueFrom:\n            secretKeyRef:\n              name: usualstore-secrets\n              key: DB_PASSWORD\n        - name: POSTGRES_DB\n          valueFrom:\n            configMapKeyRef:\n              name: usualstore-config\n              key: DB_NAME\n        - name: PGDATA\n          value: /var/lib/postgresql/data/pgdata\n        args:\n          - \"postgres\"\n          - \"-c\"\n          - \"listen_addresses=*\"\n          - \"-c\"\n          - \"max_connections=200\"\n        volumeMounts:\n        - name: postgres-storage\n          mountPath: /var/lib/postgresql/data\n        resources:\n          requests:\n            memory: \"256Mi\"\n            cpu: \"250m\"\n          limits:\n            memory: \"1Gi\"\n            cpu: \"1000m\"\n        livenessProbe:\n          exec:\n            command:\n            - pg_isready\n            - -U\n            - postgres\n            - -d\n            - usualstore\n          initialDelaySeconds: 30\n          periodSeconds: 10\n          timeoutSeconds: 5\n        readinessProbe:\n          exec:\n            command:\n            - pg_isready\n            - -U\n            - postgres\n            - -d\n            - usualstore\n          initialDelaySeconds: 5\n          periodSeconds: 5\n          timeoutSeconds: 3\n      volumes:\n      - name: postgres-storage\n        persistentVolumeClaim:\n          claimName: database-pvc\n\n",
            "yaml_body_parsed": "apiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: database\n  namespace: usualstore\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: database\n  serviceName: database\n  template:\n    metadata:\n      labels:\n        app: database\n    spec:\n      containers:\n      - args:\n        - postgres\n        - -c\n        - listen_addresses=*\n        - -c\n        - max_connections=200\n        env:\n        - name: POSTGRES_USER\n          valueFrom:\n            secretKeyRef:\n              key: DB_USER\n              name: usualstore-secrets\n        - name: POSTGRES_PASSWORD\n          valueFrom:\n            secretKeyRef:\n              key: DB_PASSWORD\n              name: usualstore-secrets\n        - name: POSTGRES_DB\n          valueFrom:\n            configMapKeyRef:\n              key: DB_NAME\n              name: usualstore-config\n        - name: PGDATA\n          value: /var/lib/postgresql/data/pgdata\n        image: postgres:15\n        livenessProbe:\n          exec:\n            command:\n            - pg_isready\n            - -U\n            - postgres\n            - -d\n            - usualstore\n          initialDelaySeconds: 30\n          periodSeconds: 10\n          timeoutSeconds: 5\n        name: postgres\n        ports:\n        - containerPort: 5432\n          name: postgres\n        readinessProbe:\n          exec:\n            command:\n            - pg_isready\n            - -U\n            - postgres\n            - -d\n            - usualstore\n          initialDelaySeconds: 5\n          periodSeconds: 5\n          timeoutSeconds: 3\n        resources:\n          limits:\n            cpu: 1000m\n            memory: 1Gi\n          requests:\n            cpu: 250m\n            memory: 256Mi\n        volumeMounts:\n        - mountPath: /var/lib/postgresql/data\n          name: postgres-storage\n      volumes:\n      - name: postgres-storage\n        persistentVolumeClaim:\n          claimName: database-pvc\n",
            "yaml_incluster": "a7df8ec7292740aad53f00b44ceb90c180ffe658aeb85c61ddae595a9de75567"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        },
        {
          "index_key": "06-database-service.yaml",
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": true,
            "force_new": false,
            "id": "/api/v1/namespaces/usualstore/services/database",
            "ignore_fields": null,
            "kind": "Service",
            "live_manifest_incluster": "4eeb4b941da6143c644184725fd0fb2c8c254106b22eb1de2773bb80293bcab7",
            "live_uid": "29045e00-e50a-4334-a4fb-0116945d0c28",
            "name": "database",
            "namespace": "usualstore",
            "override_namespace": "usualstore",
            "sensitive_fields": null,
            "server_side_apply": true,
            "timeouts": null,
            "uid": "29045e00-e50a-4334-a4fb-0116945d0c28",
            "validate_schema": true,
            "wait": true,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\nkind: Service\nmetadata:\n  name: database\n  namespace: usualstore\nspec:\n  type: ClusterIP\n  clusterIP: None  # Headless service for StatefulSet\n  ports:\n  - port: 5432\n    targetPort: 5432\n    protocol: TCP\n    name: postgres\n  selector:\n    app: database\n\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: Service\nmetadata:\n  name: database\n  namespace: usualstore\nspec:\n  clusterIP: None\n  ports:\n  - name: postgres\n    port: 5432\n    protocol: TCP\n    targetPort: 5432\n  selector:\n    app: database\n  type: ClusterIP\n",
            "yaml_incluster": "4eeb4b941da6143c644184725fd0fb2c8c254106b22eb1de2773bb80293bcab7"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        },
        {
          "index_key": "08-backend-service.yaml",
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": true,
            "force_new": false,
            "id": "/api/v1/namespaces/usualstore/services/backend",
            "ignore_fields": null,
            "kind": "Service",
            "live_manifest_incluster": "09b5d727efef186915501160e2b5f88d5663759f811651fc7a5c0bba431b5696",
            "live_uid": "e1842dd6-c1dc-4237-b53c-795fa1abc134",
            "name": "backend",
            "namespace": "usualstore",
            "override_namespace": "usualstore",
            "sensitive_fields": null,
            "server_side_apply": true,
            "timeouts": null,
            "uid": "e1842dd6-c1dc-4237-b53c-795fa1abc134",
            "validate_schema": true,
            "wait": true,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\nkind: Service\nmetadata:\n  name: backend\n  namespace: usualstore\nspec:\n  type: ClusterIP\n  ports:\n  - port: 4001\n    targetPort: 4001\n    protocol: TCP\n    name: http\n  selector:\n    app: backend\n\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: Service\nmetadata:\n  name: backend\n  namespace: usualstore\nspec:\n  ports:\n  - name: http\n    port: 4001\n    protocol: TCP\n    targetPort: 4001\n  selector:\n    app: backend\n  type: ClusterIP\n",
            "yaml_incluster": "09b5d727efef186915501160e2b5f88d5663759f811651fc7a5c0bba431b5696"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        },
        {
          "index_key": "10-frontend-service.yaml",
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": true,
            "force_new": false,
            "id": "/api/v1/namespaces/usualstore/services/frontend",
            "ignore_fields": null,
            "kind": "Service",
            "live_manifest_incluster": "845588488e69d3d0c9614ff802ce50214862e7e3568b28df67a0fa40b63b2495",
            "live_uid": "a2c2a6e3-6e7d-4b74-924d-76d34b323375",
            "name": "frontend",
            "namespace": "usualstore",
            "override_namespace": "usualstore",
            "sensitive_fields": null,
            "server_side_apply": true,
            "timeouts": null,
            "uid": "a2c2a6e3-6e7d-4b74-924d-76d34b323375",
            "validate_schema": true,
            "wait": true,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\nkind: Service\nmetadata:\n  name: frontend\n  namespace: usualstore\nspec:\n  type: LoadBalancer\n  ports:\n  - port: 80\n    targetPort: 4000\n    protocol: TCP\n    name: http\n  selector:\n    app: frontend\n  # Optional: For Minikube, you may need to use NodePort instead:\n  # type: NodePort\n  # ports:\n  # - port: 4000\n  #   targetPort: 4000\n  #   nodePort: 30000  # Access at minikube_ip:30000\n\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: Service\nmetadata:\n  name: frontend\n  namespace: usualstore\nspec:\n  ports:\n  - name: http\n    port: 80\n    protocol: TCP\n    targetPort: 4000\n  selector:\n    app: frontend\n  type: LoadBalancer\n",
            "yaml_incluster": "845588488e69d3d0c9614ff802ce50214862e7e3568b28df67a0fa40b63b2495"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        },
        {
          "index_key": "12-invoice-service.yaml",
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": true,
            "force_new": false,
            "id": "/api/v1/namespaces/usualstore/services/invoice",
            "ignore_fields": null,
            "kind": "Service",
            "live_manifest_incluster": "e5bf1df9e2e787633903d336169c8fdaca28428dc46977a66b306a9b2189c7ff",
            "live_uid": "0e250f26-a859-40ab-ad6e-9c3aee8cbe8c",
            "name": "invoice",
            "namespace": "usualstore",
            "override_namespace": "usualstore",
            "sensitive_fields": null,
            "server_side_apply": true,
            "timeouts": null,
            "uid": "0e250f26-a859-40ab-ad6e-9c3aee8cbe8c",
            "validate_schema": true,
            "wait": true,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\nkind: Service\nmetadata:\n  name: invoice\n  namespace: usualstore\nspec:\n  type: ClusterIP\n  ports:\n  - port: 5000\n    targetPort: 5000\n    protocol: TCP\n    name: http\n  selector:\n    app: invoice\n\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: Service\nmetadata:\n  name: invoice\n  namespace: usualstore\nspec:\n  ports:\n  - name: http\n    port: 5000\n    protocol: TCP\n    targetPort: 5000\n  selector:\n    app: invoice\n  type: ClusterIP\n",
            "yaml_incluster": "e5bf1df9e2e787633903d336169c8fdaca28428dc46977a66b306a9b2189c7ff"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        },
        {
          "index_key": "14-ai-assistant-service.yaml",
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": true,
            "force_new": false,
            "id": "/api/v1/namespaces/usualstore/services/ai-assistant",
            "ignore_fields": null,
            "kind": "Service",
            "live_manifest_incluster": "d342789c96fdc0b22803234e48115a31bbc3978e4c1234a9df0a9096aafc506b",
            "live_uid": "71d27a3e-5ddf-4906-9b20-cf8a18bd52e1",
            "name": "ai-assistant",
            "namespace": "usualstore",
            "override_namespace": "usualstore",
            "sensitive_fields": null,
            "server_side_apply": true,
            "timeouts": null,
            "uid": "71d27a3e-5ddf-4906-9b20-cf8a18bd52e1",
            "validate_schema": true,
            "wait": true,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\nkind: Service\nmetadata:\n  name: ai-assistant\n  namespace: usualstore\nspec:\n  type: ClusterIP\n  ports:\n  - port: 8080\n    targetPort: 8080\n    protocol: TCP\n    name: http\n  selector:\n    app: ai-assistant\n\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: Service\nmetadata:\n  name: ai-assistant\n  namespace: usualstore\nspec:\n  ports:\n  - name: http\n    port: 8080\n    protocol: TCP\n    targetPort: 8080\n  selector:\n    app: ai-assistant\n  type: ClusterIP\n",
            "yaml_incluster": "d342789c96fdc0b22803234e48115a31bbc3978e4c1234a9df0a9096aafc506b"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        },
        {
          "index_key": "15-ai-assistant-secrets.yaml",
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": true,
            "force_new": false,
            "id": "/api/v1/namespaces/usualstore/secrets/ai-assistant-secrets",
            "ignore_fields": null,
            "kind": "Secret",
            "live_manifest_incluster": "4d3234fab240c92d254672436a845cb4fb468955df41b98de7da2584a20130b9",
            "live_uid": "e284de91-1e1b-4c2c-b37b-764e836308c2",
            "name": "ai-assistant-secrets",
            "namespace": "usualstore",
            "override_namespace": "usualstore",
            "sensitive_fields": null,
            "server_side_apply": true,
            "timeouts": null,
            "uid": "e284de91-1e1b-4c2c-b37b-764e836308c2",
            "validate_schema": true,
            "wait": true,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\nkind: Secret\nmetadata:\n  name: ai-assistant-secrets\n  namespace: usualstore\ntype: Opaque\nstringData:\n  # IMPORTANT: Replace with your actual OpenAI API key before deploying!\n  # In production, use sealed-secrets, external-secrets, or cloud secret managers\n  OPENAI_API_KEY: \"sk-replace-with-your-actual-openai-api-key\"\n  \n  # Alternative: Create secret via kubectl command:\n  # kubectl create secret generic ai-assistant-secrets \\\n  #   --from-literal=OPENAI_API_KEY=sk-your-actual-key \\\n  #   -n usualstore\n\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: Secret\nmetadata:\n  name: ai-assistant-secrets\n  namespace: usualstore\nstringData:\n  OPENAI_API_KEY: sk-replace-with-your-actual-openai-api-key\ntype: Opaque\n",
            "yaml_incluster": "4d3234fab240c92d254672436a845cb4fb468955df41b98de7da2584a20130b9"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        },
        {
          "index_key": "16-ai-assistant-ingress.yaml",
          "schema_version": 1,
          "attributes": {
            "api_version": "networking.k8s.io/v1",
            "apply_only": false,
            "force_conflicts": true,
            "force_new": false,
            "id": "/apis/networking.k8s.io/v1/namespaces/usualstore/ingresses/ai-assistant-ingress",
            "ignore_fields": null,
            "kind": "Ingress",
            "live_manifest_incluster": "627177fd53a4f4aae03dc81e9b007293168af33dd93c5fb1f10d994032551b7c",
            "live_uid": "2456611f-708b-4ad8-8d6c-81efe570ad9a",
            "name": "ai-assistant-ingress",
            "namespace": "usualstore",
            "override_namespace": "usualstore",
            "sensitive_fields": null,
            "server_side_apply": true,
            "timeouts": null,
            "uid": "2456611f-708b-4ad8-8d6c-81efe570ad9a",
            "validate_schema": true,
            "wait": true,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: ai-assistant-ingress\n  namespace: usualstore\n  annotations:\n    nginx.ingress.kubernetes.io/rewrite-target: /\n    # Enable CORS for AI assistant API\n    nginx.ingress.kubernetes.io/enable-cors: \"true\"\n    nginx.ingress.kubernetes.io/cors-allow-origin: \"*\"\n    nginx.ingress.kubernetes.io/cors-allow-methods: \"GET, POST, OPTIONS\"\n    nginx.ingress.kubernetes.io/cors-allow-headers: \"Content-Type, Authorization\"\nspec:\n  ingressClassName: nginx  # Use your ingress controller class\n  rules:\n  - host: store.example.com  # Replace with your domain\n    http:\n      paths:\n      - path: /api/ai\n        pathType: Prefix\n        backend:\n          service:\n            name: ai-assistant\n            port:\n              number: 8080\n  # Optional: Add TLS\n  # tls:\n  # - hosts:\n  #   - store.example.com\n  #   secretName: store-tls-cert\n\n",
            "yaml_body_parsed": "apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  annotations:\n    nginx.ingress.kubernetes.io/cors-allow-headers: Content-Type, Authorization\n    nginx.ingress.kubernetes.io/cors-allow-methods: GET, POST, OPTIONS\n    nginx.ingress.kubernetes.io/cors-allow-origin: '*'\n    nginx.ingress.kubernetes.io/enable-cors: \"true\"\n    nginx.ingress.kubernetes.io/rewrite-target: /\n  name: ai-assistant-ingress\n  namespace: usualstore\nspec:\n  ingressClassName: nginx\n  rules:\n  - host: store.example.com\n    http:\n      paths:\n      - backend:\n          service:\n            name: ai-assistant\n            port:\n              number: 8080\n        path: /api/ai\n        pathType: Prefix\n",
            "yaml_incluster": "627177fd53a4f4aae03dc81e9b007293168af33dd93c5fb1f10d994032551b7c"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    }
  ],
  "check_results": null
}
